public function store(Request $request) { // Validate the form data $validatedData = $request->validate([ 'city' => 'required', 'type' => 'required', 'description' => 'required', 'area' => 'required', 'price' => 'required', 'status' => 'required', 'iframe'
=> 'nullable', 'image' => 'required|image|mimes:jpeg,png,jpg', // Max file size 2MB ]); // Store the image in the public/images folder $image = $request->file('image'); $imageName = $image->getClientOriginalName(); $image->move(public_path('images'),
$imageName); $imagePath = 'images/' . $imageName; // Create a new property instance $property = new Property(); $property->city = $validatedData['city']; $property->type = $validatedData['type']; $property->description = $validatedData['description'];
$property->area = $validatedData['area']; $property->price = $validatedData['price']; $property->status = $validatedData['status']; $property->iframe_link = $validatedData['iframe']; $property->image = $imagePath; // Save the image path $property->save();